"use strict";(self.webpackChunknft_demo=self.webpackChunknft_demo||[]).push([[770],{8770:function(e,t,n){n.r(t),n.d(t,{default:function(){return w}});var r=n(2982),o=n(885),c=n(7294),a=n(2226),u=n(6167),i=n(9379),s=n(5902),l=n(7754),f=n(7522),d=n(131),p=n(6521),m=n(204),v=n(295),g=n(6550),h="0x85fD692D2a075908079261F5E351e7fE0267dB02",w=function(){var e=(0,c.useState)([]),t=(0,o.Z)(e,2),n=t[0],w=t[1],b=(0,c.useState)(null),E=(0,o.Z)(b,2),O=E[0],y=E[1],k=(0,c.useState)(!1),x=(0,o.Z)(k,2),j=x[0],S=x[1],C=(0,c.useRef)(null),D=(0,c.useRef)(null),P=(0,g.k6)(),Z=(0,c.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.owner&&(0,a.V)(e).then((function(t){var n,o,c=(null==t||null===(n=t.data)||void 0===n?void 0:n.assets)||[];null!=e&&e.cursor?w((function(e){return[].concat((0,r.Z)(e),(0,r.Z)(c))})):w(c),y(null==t||null===(o=t.data)||void 0===o?void 0:o.next),S(!1)})).catch((function(){w([]),S(!0)}))}),[]),A=function(e){var t=e.handleGetOwnerAddressCallBack,n=void 0===t?function(){}:t,r=(0,c.useState)(""),a=(0,o.Z)(r,2),u=a[0],i=a[1],s=(0,c.useCallback)((function(){window.ethereum?window.ethereum.request({method:"eth_requestAccounts"}).then((function(e){var t=e[0];i(t),n({owner:t})})).catch((function(e){i(h),n({owner:h}),console.error(e)})):(i(h),n({owner:h}))}),[n]);return(0,c.useEffect)((function(){s()}),[s]),{owner:u}}({handleGetOwnerAddressCallBack:Z}).owner,_=(0,c.useCallback)((function(e){var t,r;return e&&e.getAttribute("data-asset-index")===String(n.length-1)&&(null===(t=C.current)||void 0===t||t.disconnect(),C.current=new IntersectionObserver((function(e){e[0].isIntersecting&&O&&!j&&(D.current=setTimeout((function(){Z({cursor:O,owner:A})}),600))}),{threshold:1,rootMargin:"0px 0px -50px 0px"}),null===(r=C.current)||void 0===r||r.observe(e)),null}),[n,Z,O,j,A]),B=(0,c.useMemo)((function(){return n.map((function(e,t){return c.createElement(u.U,{key:"".concat(e.id,"-").concat(t)},c.createElement(i.Z,{ref:_,"data-asset-index":t,w:{sm:"200px",base:"42vw"},h:"250px",bg:"gray.200",margin:"5px",cursor:"pointer",_hover:{backgroundColor:"#BEE3F8"},onClick:function(){var t;P.push("/detail/".concat(null===(t=e.asset_contract)||void 0===t?void 0:t.address,"/").concat(e.token_id))}},c.createElement(s.e,{overflow:"hidden",paddingBottom:"0"},c.createElement(l.M,null,c.createElement(f.E,{src:e.image_url,alt:"No Data",borderRadius:"lg",w:"80%",h:"auto",objectFit:"cover"}))),c.createElement(d.e,{justify:"center",paddingTop:"0"},c.createElement(p.x,{fontSize:"1.2rem",as:"b",align:"center",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},e.name||"Loading..."))))}))}),[n,_,P]);return(0,c.useEffect)((function(){return function(){clearTimeout(D.current)}}),[]),c.createElement(m.k,{direction:"column",justify:"center"},c.createElement(p.x,{fontSize:"2rem",as:"b",align:"center",color:"gray.600",margin:"20px 0"},"All Assets"),c.createElement(u.E,{justify:"center"},B),c.createElement(m.k,{justify:"center",margin:"20px 0"},0===n.length&&c.createElement(p.x,{fontSize:"1.4rem",align:"center",color:"gray.400"},"No Data"),O&&c.createElement(v.$,null)))}},2226:function(e,t,n){n.d(t,{V:function(){return i},a:function(){return s}});var r=n(4572),o=n(9669),c=n.n(o);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return c().get("https://testnets-api.opensea.io/api/v1/assets",{params:u({limit:20},e)})},s=function(e){var t=e.assetContractAddress,n=e.tokenId;return c().get("https://testnets-api.opensea.io/api/v1/asset/".concat(t,"/").concat(n))}}}]);